<!DOCTYPE html>

<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <script type="text/javascript" src="../aandd.js"></script>
    <script type="text/javascript" src="../jquery.min.js"></script>

    <script>
        function runButtonPressed() {
            console.clear();
            var numbers = [];
            createOrderedRandomNumbers(numbers, 20);
            var searchWord = Math.floor(Math.random() * 21);
            binarySearch(numbers, searchWord);
            show(searchWord);
            show(numbers);
        }
        function binarySearch(array, word) {
            var half = Math.floor(array.length / 2);
            var cache = 0;
            console.log("今:", half, "配列", array[half])
            for (var i = 0; i < array.length; i++) {
                if (array[half] < word) {
                    console.log("もっと大きい　今:", half, "配列", array[half]);
                    half = half + Math.floor(array.length - half / 2);
                }
                else if (array[half] > word) {
                    console.log("もっと小さい　今:", half, "配列", array[half]);
                    half = half - Math.floor(array.length - half / 2);
                }
                if (array[half] === word) {
                    show("finish! 答え:" + word + ", 配列の値" + array[half]);
                    console.log("おわおわり", half);
                    show(i);
                    break;
                }
                if (cache === half) {
                    console.log("ない", half);
                    break;
                }
                if (i === array.length - 1) {
                    console.log("無理ーーー", half);
                    break;
                }
                cache = half;
            }
        }
    </script>

</head>

<body>
    <h1>4-4</h1>
    <button onclick="runButtonPressed()">run!</button>
    <p id="res"></p>
</body>

</html>