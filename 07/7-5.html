<!DOCTYPE html>

<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

        <script type="text/javascript" src="../aandd.js"></script>
        <script type="text/javascript" src="../06/nouns.js"></script>
        <script type="text/javascript" src="../jquery.min.js"></script>

        <script>
            var lexicon = [];

            $().ready(function () {
                nouns = nounstext.split("\n");
                lexicon.push({ name: "シマイ", mean: "女の兄弟" });
                lexicon.push({ name: "アヤギヌ", mean: "藻類の一種" });
                console.log(lexicon);
            });

            // 連想配列にkey単語名とvalue意味を追加
            function registerButtonPressed() {
                var noun = document.getElementById("register_noun").value;
                var set_mean = document.getElementById("set_mean").value;
                lexicon.push({ name: noun, mean: set_mean });
                console.log(lexicon);
                viewLexicons(); // 表を更新
            }

            // 表を作成する
            function viewLexicons() {
                var table =
                    "<table border=1><tr><td>単語<td/><td>意味<td/><tr/>";
                for (var i = 0; i < lexicon.length; i++) {
                    console.log(lexicon[i]);
                    table += `<tr>`;
                    table += `<td> ${lexicon[i]["name"]} <td/>`;
                    table += `<td> ${lexicon[i]["mean"]} <td/>`;
                    table += `<tr/>`;
                }
                table += "<table/>";
                document.getElementById("res").innerHTML = table;
            }

            function changeButtonPressed() {
                var index = Math.floor(Math.random() * nouns.length);
                var noun = nouns[index];
                document.getElementById("register_noun").value = noun;
            }
        </script>
    </head>

    <body>
        <h1>7-4</h1>
        <h1>登録</h1>
        <br />
        単語：<input id="register_noun" type="text" value="" size="50" />
        <button onclick="changeButtonPressed()">変更</button>
        <br />
        意味：<input id="set_mean" type="text" value="" size="50" />
        <button onclick="registerButtonPressed()">教える</button>
        <p id="res"></p>
    </body>
</html>
