<!DOCTYPE html>

<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

        <script type="text/javascript" src="../aandd.js"></script>
        <script type="text/javascript" src="../06/nouns.js"></script>
        <script type="text/javascript" src="../jquery.min.js"></script>

        <script>
            var lexicon = {};

            $().ready(function () {
                nouns = nounstext.split("\n");
                lexicon["シマイ"] = { japanese: "姉妹", mean: "女の兄弟" };
                lexicon["アヤギヌ"] = { japanese: "綾絹", mean: "藻類の一種" };
                console.log(lexicon);
            });

            // 連想配列にkey英語とvalue日本語を追加
            function registerButtonPressed() {
                var noun = document.getElementById("register_noun").value;
                var set_japanese =
                    document.getElementById("set_japanese").value;
                var set_mean = document.getElementById("set_mean").value;
                lexicon[noun] = {};
                console.log(lexicon);
                lexicon[noun]["japanese"] = set_japanese;
                lexicon[noun]["mean"] = set_mean;
                console.log(lexicon);
                viewLexicons();
            }

            function viewLexicons() {
                var table = "<table border=1>";
                for (noun in lexicon) {
                    console.log(noun["japanese"]);
                    table += `<tr>`;
                    table += `<td> ${noun} <td/>`;
                    table += `<td> ${noun["japanese"]} <td/>`;
                    table += `<td> ${noun["mean"]} <td/>`;
                    table += `<tr/>`;
                }
                table += "<table/>";
                document.getElementById("res").innerHTML = table;
            }

            function changeButtonPressed() {
                var index = Math.floor(Math.random() * nouns.length);
                var noun = nouns[index];
                document.getElementById("register_noun").value = noun;
            }
        </script>
    </head>

    <body>
        <h1>7-4</h1>
        <h1>登録</h1>
        <br />
        単語：<input id="register_noun" type="text" value="" size="50" />
        <button onclick="changeButtonPressed()">変更</button>
        <br />
        漢字又はひらがな：<input
            id="set_japanese"
            type="text"
            value=""
            size="50"
        />
        <br />
        意味：<input id="set_mean" type="text" value="" size="50" />
        <button onclick="registerButtonPressed()">教える</button>
        <p id="res"></p>
    </body>
</html>
